(()=>{var e={};e.id=925,e.ids=[925],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1997:e=>{"use strict";e.exports=require("punycode")},2520:(e,t,r)=>{Promise.resolve().then(r.bind(r,8684))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4977:(e,t,r)=>{"use strict";r.d(t,{GameTable:()=>Z});var s=r(256),a=r(113),n=r(8629),l=function(e){return e.WAITING="waiting",e.TEAM_SELECTION="team_selection",e.BETS="bets",e.CARDS="cards",e.TRICK_SCORING="trick_scoring",e.ROUND_END="round_end",e.GAME_END="game_end",e}({}),i=function(e){return e.RED="red",e.BLUE="blue",e.GREEN="green",e.BROWN="brown",e}({}),c=function(e){return e.SKIP="skip",e.SEVEN="seven",e.EIGHT="eight",e.NINE="nine",e.TEN="ten",e.ELEVEN="eleven",e.TWELVE="twelve",e}({}),o=function(e){return e.A="A",e.B="B",e}({});function d({color:e,value:t,isFaceUp:r=!0,onClick:a,className:l}){let c={[i.RED]:"border-red-500 text-red-600",[i.BLUE]:"border-blue-500 text-blue-600",[i.GREEN]:"border-green-500 text-green-600",[i.BROWN]:"border-amber-800 text-amber-900"}[e],o=t.toString();return(0,s.jsx)("button",{onClick:a,className:(0,n.cn)("relative w-16 h-24 sm:w-20 sm:h-28 md:w-24 md:h-32 rounded-md shadow-md flex flex-col justify-between p-2 border-2",c,"bg-white transition-transform duration-100 hover:scale-105 active:scale-95",!r&&"bg-gray-700 border-gray-900",l),disabled:!a,children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,n.cn)("font-bold text-lg",c),children:o}),(0,s.jsx)("div",{className:(0,n.cn)("absolute inset-0 flex items-center justify-center text-5xl",c),children:o}),(0,s.jsx)("div",{className:(0,n.cn)("self-end font-bold text-lg transform rotate-180",c),children:o})]}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500 text-2xl",children:"?"})})}function u({cards:e,onCardPlay:t,canPlay:r}){return(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-2 p-4 bg-gray-700 rounded-lg shadow-inner",children:0===e.length?(0,s.jsx)("p",{className:"text-gray-400",children:"Your hand is empty."}):e.map(e=>(0,s.jsx)(d,{color:e.color,value:e.value,onClick:()=>r&&t(e.id),className:r?"cursor-pointer":"cursor-not-allowed opacity-50"},e.id))})}var m=r(362);function x({cardCount:e,playerName:t,isCurrentPlayer:r}){let a=Math.min(e,13);return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("p",{className:`text-gray-400 mb-1 ${r?"font-bold text-yellow-300":""}`,children:[t," (",e," cards)"]}),(0,s.jsxs)("div",{className:"relative w-40 h-28",children:[" ",Array.from({length:a}).map((e,t)=>(0,s.jsx)(d,{color:i.BLUE,value:0,isFaceUp:!1,className:"absolute w-16 h-24 sm:w-16 sm:h-24",style:{left:`${100/(a>1?a-1:1)*t}%`,transform:`translateX(-${50*t}%) rotate(${2*t-(a-1)*1}deg)`,transformOrigin:"bottom center",zIndex:t}},t))]})]})}function p(){let[e,t]=(0,a.useState)(!0);return e}function f({className:e=""}){let t=p();return(0,s.jsxs)("div",{className:`flex items-center gap-2 ${e}`,children:[(0,s.jsx)("div",{className:`w-3 h-3 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),(0,s.jsx)("span",{className:`text-sm ${t?"text-green-400":"text-red-400"}`,children:t?"Online":"Offline"})]})}function h({isOnline:e,lastSeen:t,className:r=""}){return(0,s.jsxs)("div",{className:`flex items-center gap-1 ${r}`,children:[(0,s.jsx)("div",{className:`w-2 h-2 rounded-full ${e?"bg-green-500":"bg-gray-500"}`}),(0,s.jsx)("span",{className:`text-xs ${e?"text-green-400":"text-gray-400"}`,children:(()=>{if(e)return"Online";if(!t)return"Offline";let r=new Date(t),s=Math.floor((new Date().getTime()-r.getTime())/6e4);if(s<1)return"Just now";if(s<60)return`${s}m ago`;let a=Math.floor(s/60);if(a<24)return`${a}h ago`;let n=Math.floor(a/24);return`${n}d ago`})()})]})}r(7712);var g=r(6432);let b=(0,g.createServerReference)("40c784d6f10b4f70694f886d62ee5634a10c608c7c",g.callServer,void 0,g.findSourceMapURL,"getGameState"),y=(0,g.createServerReference)("4095bc6b59c918eea95ef99a4b7ecbe75ec61e8764",g.callServer,void 0,g.findSourceMapURL,"startGame"),v=(0,g.createServerReference)("70e371621bd13ec56636cc2c7c33b46d4f3615726b",g.callServer,void 0,g.findSourceMapURL,"playCard"),N=(0,g.createServerReference)("70e79bae32fde495f2c752df7d30d35e9b26a75ebe",g.callServer,void 0,g.findSourceMapURL,"selectTeamAction"),j=(0,g.createServerReference)("70ef4c747af4f7de6fa7b1b00037191bcbf468c0ea",g.callServer,void 0,g.findSourceMapURL,"selectSeatAction"),w=(0,g.createServerReference)("70762c95f7c21958d38ae764e0d59aac73f2de7bbd",g.callServer,void 0,g.findSourceMapURL,"setPlayerReadyAction"),S=(0,g.createServerReference)("78a0bffdf7e3fc90f51e5dc40e70779db535cb6a6d",g.callServer,void 0,g.findSourceMapURL,"placeBetAction"),T=(0,g.createServerReference)("4020afa920bc98deb862a05790f43d9e29ae9b04de",g.callServer,void 0,g.findSourceMapURL,"addBotToGame"),R=(0,g.createServerReference)("40d9381e91bfd257fa414203daa9826a97c271192c",g.callServer,void 0,g.findSourceMapURL,"triggerBotTurn");var C=r(4158);function k(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}function E(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}var O=globalThis?.document?a.useLayoutEffect:()=>{},P=e=>{let{present:t,children:r}=e,s=function(e){var t,r;let[s,n]=a.useState(),l=a.useRef({}),i=a.useRef(e),c=a.useRef("none"),[o,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>r[e][t]??e,t));return a.useEffect(()=>{let e=A(l.current);c.current="mounted"===o?e:"none"},[o]),O(()=>{let t=l.current,r=i.current;if(r!==e){let s=c.current,a=A(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):r&&s!==a?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),O(()=>{if(s){let e;let t=s.ownerDocument.defaultView??window,r=r=>{let a=A(l.current).includes(r.animationName);if(r.target===s&&a&&(d("ANIMATION_END"),!i.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},a=e=>{e.target===s&&(c.current=A(l.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:a.useCallback(e=>{e&&(l.current=getComputedStyle(e)),n(e)},[])}}(t),n="function"==typeof r?r({present:s.isPresent}):a.Children.only(r),l=(0,C.s)(s.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof r||s.isPresent?a.cloneElement(n,{ref:l}):null};function A(e){return e?.animationName||"none"}P.displayName="Presence";var B=r(9420),I="Checkbox",[$,M]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(t,n){let l=a.createContext(n),i=r.length;r=[...r,n];let c=t=>{let{scope:r,children:n,...c}=t,o=r?.[e]?.[i]||l,d=a.useMemo(()=>c,Object.values(c));return(0,s.jsx)(o.Provider,{value:d,children:n})};return c.displayName=t+"Provider",[c,function(r,s){let c=s?.[e]?.[i]||l,o=a.useContext(c);if(o)return o;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...t)]}(I),[_,U]=$(I),D=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:l,defaultChecked:i,required:c,disabled:o,value:d="on",onCheckedChange:u,form:m,...x}=e,[p,f]=a.useState(null),h=(0,C.s)(t,e=>f(e)),g=a.useRef(!1),b=!p||m||!!p.closest("form"),[y=!1,v]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[s,n]=function({defaultProp:e,onChange:t}){let r=a.useState(e),[s]=r,n=a.useRef(s),l=E(t);return a.useEffect(()=>{n.current!==s&&(l(s),n.current=s)},[s,n,l]),r}({defaultProp:t,onChange:r}),l=void 0!==e,i=l?e:s,c=E(r);return[i,a.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&c(r)}else n(t)},[l,e,n,c])]}({prop:l,defaultProp:i,onChange:u}),N=a.useRef(y);return a.useEffect(()=>{let e=p?.form;if(e){let t=()=>v(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[p,v]),(0,s.jsxs)(_,{scope:r,state:y,disabled:o,children:[(0,s.jsx)(B.sG.button,{type:"button",role:"checkbox","aria-checked":F(y)?"mixed":y,"aria-required":c,"data-state":q(y),"data-disabled":o?"":void 0,disabled:o,value:d,...x,ref:h,onKeyDown:k(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:k(e.onClick,e=>{v(e=>!!F(e)||!e),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,s.jsx)(W,{control:p,bubbles:!g.current,name:n,value:d,checked:y,required:c,disabled:o,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!F(i)&&i})]})});D.displayName=I;var G="CheckboxIndicator",L=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...n}=e,l=U(G,r);return(0,s.jsx)(P,{present:a||F(l.state)||!0===l.state,children:(0,s.jsx)(B.sG.span,{"data-state":q(l.state),"data-disabled":l.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});L.displayName=G;var W=e=>{let{control:t,checked:r,bubbles:n=!0,defaultChecked:l,...i}=e,c=a.useRef(null),o=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),d=function(e){let[t,r]=a.useState(void 0);return O(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(t);a.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let s=new Event("click",{bubbles:n});e.indeterminate=F(r),t.call(e,!F(r)&&r),e.dispatchEvent(s)}},[o,r,n]);let u=a.useRef(!F(r)&&r);return(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??u.current,...i,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(e){return"indeterminate"===e}function q(e){return F(e)?"indeterminate":e?"checked":"unchecked"}let z=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var K={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let V=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:l,iconNode:i,...c},o)=>(0,a.createElement)("svg",{ref:o,...K,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:H("lucide",n),...c},[...i.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),Y=((e,t)=>{let r=(0,a.forwardRef)(({className:r,...s},n)=>(0,a.createElement)(V,{ref:n,iconNode:t,className:H(`lucide-${z(e)}`,r),...s}));return r.displayName=`${e}`,r})("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function J({className:e,...t}){return(0,s.jsx)(D,{"data-slot":"checkbox",className:(0,n.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(L,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(Y,{className:"size-3.5"})})})}var X=r(9146);function Z({gameId:e,playerId:t,playerName:r}){let[n,g]=(0,a.useState)(null),[C,k]=(0,a.useState)(!0),[E,O]=(0,a.useState)(""),[P,A]=(0,a.useState)(null),[B,I]=(0,a.useState)("connecting"),[$,M]=(0,a.useState)(!1),[_,U]=(0,a.useState)(!1),[D,G]=(0,a.useState)(!1),{onlinePlayers:L,isOnline:W,totalOnline:F}=function(e,t,r){let[s,n]=(0,a.useState)({}),[l,i]=(0,a.useState)(null),c=p();return(0,a.useCallback)(async()=>{if(!l||!c)return;let s={playerId:t,playerName:r,gameId:e,lastSeen:new Date().toISOString(),isOnline:!0};await l.track(s)},[l,t,r,e,c]),{onlinePlayers:s,isOnline:c,totalOnline:Object.keys(s).length}}(e,t,r),q=(0,a.useCallback)(async(r=!1)=>{r&&k(!0);let s=await b(e);if(s){g(s),O(`Game ${e} - Phase: ${s.phase}`);let r=s.players[s.currentTurn];s.phase===l.CARDS&&r?.id===t?O("It's your turn to play a card!"):s.phase===l.BETS&&r?.id===t?O("It's your turn to place a bet!"):s.phase===l.WAITING?O(`Waiting for players (${Object.values(s.players).length}/4)...`):s.phase===l.TRICK_SCORING?(O("Trick complete! Scoring..."),A(null)):s.phase===l.ROUND_END?O("Round complete! New round starting..."):s.phase===l.GAME_END?O("Game Over!"):r?.isBot&&(s.phase===l.BETS||s.phase===l.CARDS)&&O(`It's ${r.name}'s (Bot) turn. Click 'Trigger Bot Action' to continue.`)}else O("Failed to load game state.");r&&k(!1),U(!1)},[e,t]),z=async()=>{O("Starting game...");let t=await y(e);t.success?O("Game started! Dealing cards..."):O(`Failed to start game: ${t.message||"Unknown error"}`)},H=async r=>{if(!n||n.currentTurn!==t||n.phase!==l.CARDS){O("It's not your turn or not the card playing phase.");return}O("Playing card...");let s=await v(e,t,r);s.success?O("Card played!"):O(`Failed to play card: ${s.message}`)},K=async r=>{O(`Selecting team ${r}...`);let s=await N(e,t,r);s.success?O(`Joined Team ${r}!`):O(`Failed to select team: ${s.message}`)},V=async r=>{O(`Selecting seat ${r}...`);let s=await j(e,t,r);s.success?O(`Selected seat ${r}!`):O(`Failed to select seat: ${s.message}`)},Y=async r=>{O(r?"Setting ready...":"Unsetting ready...");let s=await w(e,t,r);s.success?O(r?"You are ready!":"You are not ready."):O(`Failed to set ready status: ${s.message}`)},Z=async r=>{if(!n||n.currentTurn!==t||n.phase!==l.BETS){O("It's not your turn or not the betting phase.");return}O(`Placing bet ${r} ${$?"with trump":"no trump"}...`);let s=await S(e,t,r,$);s.success?(O("Bet placed!"),M(!1)):O(`Failed to place bet: ${s.message}`)},Q=async()=>{O("Adding bot...");let t=await T(e);t.success?O("Bot added!"):O(`Failed to add bot: ${t.message}`)},ee=async()=>{if(!n)return;U(!0),O(`Triggering ${n.players[n.currentTurn]?.name}'s (Bot) turn...`);let t=await R(e);t.success?await q(!1):O(`Failed to trigger bot turn: ${t.message}`),U(!1)};if(C)return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 text-white",children:(0,s.jsx)("p",{className:"text-xl",children:"Loading game..."})});if(!n)return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 text-white",children:(0,s.jsx)("p",{className:"text-xl",children:"Game not found or an error occurred."})});let et=n.players[t],er=Object.values(n.players).filter(e=>e.id!==t).sort((e,t)=>(e.seatPosition||0)-(t.seatPosition||0)),es=er[0],ea=er[1],en=er[2],el=Object.values(n.playedCards).sort((e,t)=>e.playOrder-t.playOrder),ei=n.currentTurn&&n.players[n.currentTurn]?.isBot,ec=n.phase===l.BETS||n.phase===l.CARDS;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold mb-6",children:["Trick-Taking Game (ID: ",e,")"]}),(0,s.jsx)("div",{className:"mb-4 text-lg text-gray-300",children:E}),(0,s.jsxs)("div",{className:"mb-4 text-lg text-gray-300",children:["Phase: ",n.phase.replace(/_/g," ")]}),n.currentTurn&&(0,s.jsxs)("div",{className:"mb-4 text-lg text-gray-300",children:["Current Turn: ",n.players[n.currentTurn]?.name||"N/A"]}),n.trump&&(0,s.jsxs)("div",{className:"mb-4 text-lg text-gray-300",children:["Current Trump:"," ",(0,s.jsx)("span",{className:`font-bold ${n.trump===i.RED||n.trump===i.BROWN?"text-red-400":"text-blue-400"}`,children:n.trump})]}),(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-4 text-sm text-gray-400",children:[(0,s.jsx)(f,{}),(0,s.jsxs)("span",{children:["Realtime: ",B]}),(0,s.jsxs)("span",{children:["Online Players: ",F]}),(0,s.jsx)(m.$,{onClick:()=>{q(!1)},size:"sm",variant:"outline",className:"text-xs",children:"Refresh"})]}),n.phase===l.WAITING&&(0,s.jsxs)("div",{className:"w-full max-w-md bg-gray-800 rounded-lg p-4 shadow-lg mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Players in Lobby"}),(0,s.jsx)("ul",{className:"space-y-2",children:Object.values(n.players).map(e=>{let r=L[e.id],a=r?.isOnline||!1;return(0,s.jsxs)("li",{className:"flex justify-between items-center bg-gray-700 p-3 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-medium",children:[e.name," ",e.id===t&&"(You)"," ",e.isBot&&"(Bot)"]}),(0,s.jsx)(h,{isOnline:a,lastSeen:r?.lastSeen})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[e.team&&(0,s.jsxs)("span",{className:"mr-2",children:["Team: ",e.team]}),void 0!==e.seatPosition&&(0,s.jsxs)("span",{className:"mr-2",children:["Seat: ",e.seatPosition+1]}),e.isReady?(0,s.jsx)("span",{className:"text-green-400",children:"Ready"}):(0,s.jsx)("span",{className:"text-yellow-400",children:"Not Ready"})]})]},e.id)})}),Object.values(n.players).length<4&&(0,s.jsx)(m.$,{onClick:Q,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white mt-4",children:"Add Bot"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 w-full max-w-4xl mb-8",children:[es&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-300",children:[es.name," ",es.isBot&&"(Bot)"]}),(0,s.jsx)(h,{isOnline:L[es.id]?.isOnline||!1,lastSeen:L[es.id]?.lastSeen})]}),(0,s.jsx)(x,{playerName:es.name,cardCount:n.playerHands[es.id]?.length||0,isCurrentPlayer:n.currentTurn===es.id})]}),!es&&(0,s.jsx)("div",{className:"flex flex-col items-center text-gray-600",children:"Waiting for Player..."}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center bg-gray-800 rounded-lg p-4 shadow-lg min-h-[150px]",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Cards in Play"}),(0,s.jsx)("div",{className:"flex gap-2",children:0===el.length?(0,s.jsx)("p",{className:"text-gray-500",children:"No cards played yet."}):el.map(e=>(0,s.jsx)(d,{color:e.color,value:e.value,className:"w-16 h-24"},e.id))}),P&&(0,s.jsxs)("p",{className:"mt-2 text-green-400 font-semibold",children:["Trick won by: ",n.players[P]?.name]})]}),ea&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-300",children:[ea.name," ",ea.isBot&&"(Bot)"]}),(0,s.jsx)(h,{isOnline:L[ea.id]?.isOnline||!1,lastSeen:L[ea.id]?.lastSeen})]}),(0,s.jsx)(x,{playerName:ea.name,cardCount:n.playerHands[ea.id]?.length||0,isCurrentPlayer:n.currentTurn===ea.id})]}),!ea&&(0,s.jsx)("div",{className:"flex flex-col items-center text-gray-600",children:"Waiting for Player..."})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[en&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-300",children:[en.name," ",en.isBot&&"(Bot)"]}),(0,s.jsx)(h,{isOnline:L[en.id]?.isOnline||!1,lastSeen:L[en.id]?.lastSeen})]}),(0,s.jsx)(x,{playerName:en.name,cardCount:n.playerHands[en.id]?.length||0,isCurrentPlayer:n.currentTurn===en.id})]}),!en&&(0,s.jsx)("div",{className:"flex flex-col items-center text-gray-600",children:"Waiting for Player..."})]}),(0,s.jsxs)("div",{className:"w-full max-w-4xl bg-gray-800 rounded-lg p-4 shadow-lg",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-2 text-center",children:["Your Hand (",r,")"]}),et&&(0,s.jsx)(u,{cards:n.playerHands[t]||[],onCardPlay:H,canPlay:n.currentTurn===t&&n.phase===l.CARDS})]}),(0,s.jsxs)("div",{className:"mt-8 flex gap-4",children:[n.phase===l.WAITING&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-gray-300",children:"Select Team:"}),(0,s.jsx)(m.$,{onClick:()=>K(o.A),disabled:et?.team===o.A,children:"Team A"}),(0,s.jsx)(m.$,{onClick:()=>K(o.B),disabled:et?.team===o.B,children:"Team B"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-gray-300",children:"Select Seat:"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[0,1,2,3].map(e=>(0,s.jsxs)(m.$,{onClick:()=>V(e),disabled:et?.seatPosition===e||Object.values(n.players).some(r=>r.seatPosition===e&&r.id!==t),children:["Seat ",e+1]},e))})]}),(0,s.jsx)(m.$,{onClick:()=>Y(!et?.isReady),className:et?.isReady?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700",children:et?.isReady?"Unready":"Ready"}),4===Object.values(n.players).length&&Object.values(n.players).every(e=>e.isReady&&e.team&&void 0!==e.seatPosition)&&(0,s.jsx)(m.$,{onClick:z,className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Start Game"})]}),n.phase===l.BETS&&n.currentTurn===t&&(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-md bg-gray-800 rounded-lg p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-white text-center mb-4",children:"Place Your Bet"}),n.highestBet&&n.highestBet.betValue!==c.SKIP&&(0,s.jsxs)("p",{className:"text-lg text-gray-300 text-center mb-4",children:["Current Highest: ",(0,s.jsx)("span",{className:"font-semibold text-yellow-300",children:n.highestBet.betValue})," by"," ",(0,s.jsx)("span",{className:"font-semibold text-yellow-300",children:n.players[n.highestBet.playerId]?.name})," ",n.highestBet.trump?"(Trump)":"(No Trump)"]}),n.highestBet&&n.highestBet.betValue===c.SKIP&&(0,s.jsxs)("p",{className:"text-lg text-gray-300 text-center mb-4",children:["Current Highest: ",(0,s.jsx)("span",{className:"font-semibold text-yellow-300",children:"SKIP"})]}),!n.highestBet&&(0,s.jsx)("p",{className:"text-lg text-gray-300 text-center mb-4",children:"No bets placed yet. Minimum bet is 7."}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-200 mb-2",children:"All Placed Bets:"}),(0,s.jsx)("ul",{className:"space-y-1 text-sm text-gray-400",children:Object.values(n.bets).sort((e,t)=>(e.timestamp?new Date(e.timestamp).getTime():0)-(t.timestamp?new Date(t.timestamp).getTime():0)).map(e=>(0,s.jsxs)("li",{className:e.playerId===n.highestBet?.playerId?"font-bold text-green-400":"",children:[n.players[e.playerId]?.name,": ",e.betValue," ",e.trump?"(Trump)":"(No Trump)",e.playerId===n.highestBet?.playerId&&" (Highest)"]},e.playerId))})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:Object.values(c).map(e=>e===c.SKIP?null:(0,s.jsx)(m.$,{onClick:()=>Z(e),className:"bg-blue-600 hover:bg-blue-700 text-white text-lg py-3",children:e.toUpperCase()},e))}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-4",children:[(0,s.jsx)(J,{id:"trump-bet",checked:$,onCheckedChange:e=>{M(!0===e)},className:"w-5 h-5 border-gray-400 data-[state=checked]:bg-blue-500 data-[state=checked]:text-white"}),(0,s.jsx)(X.J,{htmlFor:"trump-bet",className:"text-gray-300 text-lg cursor-pointer",children:"Bet with Trump"})]}),(0,s.jsx)(m.$,{onClick:()=>Z(c.SKIP),className:"w-full bg-red-600 hover:bg-red-700 text-white text-lg py-3 mt-4",children:"SKIP BET"})]}),ei&&ec&&(0,s.jsx)(m.$,{onClick:ee,disabled:_,className:"bg-yellow-600 hover:bg-yellow-700 text-white text-lg py-3 mt-4",children:_?"Bot Thinking...":`Trigger ${n.players[n.currentTurn]?.name}'s Action`})]})]})}},6072:(e,t,r)=>{Promise.resolve().then(r.bind(r,4977))},7853:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o});var s=r(5466),a=r(6525),n=r(1861),l=r.n(n),i=r(1546),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let o={children:["",{children:["game",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8178)),"C:\\Users\\marc_\\Documents\\WebApp\\joffreUltra\\app\\game\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7006)),"C:\\Users\\marc_\\Documents\\WebApp\\joffreUltra\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,907,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,5958,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,6463,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\marc_\\Documents\\WebApp\\joffreUltra\\app\\game\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/game/page",pathname:"/game",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7910:e=>{"use strict";e.exports=require("stream")},7972:e=>{"use strict";e.exports=require("https")},8178:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,dynamic:()=>n});var s=r(5322),a=r(8684);let n="force-dynamic";async function l({searchParams:e}){let{id:t,playerId:r,playerName:n}=await e,l=n?decodeURIComponent(n):"";return t&&r&&n?(0,s.jsx)(a.GameTable,{gameId:t,playerId:r,playerName:l}):(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 text-white",children:(0,s.jsx)("p",{className:"text-xl",children:"Missing game or player information. Please join or create a game from the lobby."})})}},8684:(e,t,r)=>{"use strict";r.d(t,{GameTable:()=>s});let s=(0,r(4810).registerClientReference)(function(){throw Error("Attempted to call GameTable() from the server but GameTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\marc_\\Documents\\WebApp\\joffreUltra\\components\\game-table.tsx","GameTable")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[961,643,424],()=>r(7853));module.exports=s})();